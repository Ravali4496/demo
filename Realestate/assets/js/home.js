function includeBMSExclIframes(){var a=$("#view_excl_prop_iframe"),b=$("#view_belowexcl_prop_iframe");a.length&&a.attr("src",a.attr("src_lazy")),b.length&&b.attr("src",b.attr("src_lazy"))}function flushBmsIframes(){var bmsIframeUrls=$.parseJSON($("#bmsIframeUrls").text()),urlScript;for(urlScript in bmsIframeUrls)eval(bmsIframeUrls[urlScript]),-1!=bmsIframeUrls[urlScript].indexOf("shoshkelle")&&$("#shoskeleBanner").show()}function includeBMSJS(){var a,b,c=$.parseJSON($("#bmsJsUrls").text());for(a in c)b=document.createElement("script"),b.async=!0,b.src=c[a],-1!=c[a].indexOf("shoshkelle")&&(b.src=c[a]+Math.floor(1e5*Math.random()+1)),document.body.appendChild(b)}function loadHomePageFooterBnr(){var a=$("#hp_footer_bnr noscript").text();$("#hp_footer_bnr").append(a)}function mySlider(a,b,c){var d=document.getElementById("card-slider-1");if(d){var e=parseInt($(d).outerWidth())/c,f=d.getAttribute("card-slider"),g=$(d).find("[slide-film] > [slide-item]"),h=g.length,i=Math.ceil((g.length-c)/b);g.width(e);var j=$(d).find('[slide-button="Next"]'),k=j.attr("slide-button"),l=$(d).find('[slide-button="Previous"]'),m=l.attr("slide-button");console.log(k+"|"+m);var n=h*e,o=$(d).find("[slide-film]"),p=0,q=1;if("Full"!==f)return"No Records Found";$(d).find("[slide-film]").width(n),console.log(n),$(j).on("click",function(a){a.preventDefault(),p=parseInt(o.attr("slide-film"))+b*e,q<=i&&(o.attr("slide-film",p),o.css({transform:"translateX("+-p+"px)"}),$(l).show(),++q>i&&$(this).hide())}),$(l).on("click",function(a){a.preventDefault(),p=parseInt(o.attr("slide-film"))-b*e,q>1&&(o.attr("slide-film",p),o.css({transform:"translateX("+-p+"px)"}),$(j).show(),1===--q&&$(this).hide())})}}var timeOutVar=null,fpHomePage={offset:[254,0],idAttr:"linkid",arrAttr:"attr",zx:200,qfrm:!0,arr:"<em class='lArow'></em>",trkEnumLoc:0,trkEnumSld:1,trkEnumClks:2,trkEnumQrs:3,slideCount:0,eventsInitialized:!1,mouseoutFlag:!1,setupFPHover:function(){null!=doc.byId("fpHomePage")&&infolayer.setup("fpHomePage",fpHomePage)},getData:function(){this.timer||(this.timer=js.setTimeout(this,fpHomePage._getData,250))},_getData:function(){ajax.getText({url:"/do/fp_summary_layer/getSummaryData/"+this.linkId+"?cityhome=1",method:"GET",ctx:this},infolayer.onRcvData,fpHomePage.onRcvDataErr),trackEventByGA("OnMouseOver","FP_SUMMARY_LAYER",this.linkId)},onRcvDataErr:function(a){var b=this,c=userActionParams.lstAcn,d=userActionParams.lstAcnId;b.lyr[CHN][1].innerHTML="<a style='bLink' target='_blank' href='/property/redirect_links.php?"+this.linkId+"&from_src="+this.linkId+"&lstAcn="+c+"&lstAcnId="+d+"&src=FP_LINK' > Click here for more details about this project </a>"},buildLyr:function(){var a,b,c=this;c.lyr||("L"==c.getAttribute(fpHomePage.arrAttr)?(c.offset=[-222,0],a="rArow",b="<span class='lf mt15'>Loading...&nbsp;&nbsp;</span><img   src='"+IMG_BASE_URL+"/images/99loaderDesktop.gif' ></img>&nbsp;&nbsp;"):(a="lArow",b="<img class='lf' src='"+IMG_BASE_URL+"/images/99loaderDesktop.gif' ></img><span class='lf mt15'>Loading...</span><div class='clr'></div>"),c.lyr=js.dom.append(js.dom.create("DIV",{className:"fplayer",lyrof:c},{position:"absolute",display:"none",backgroundColor:"#ccc",width:"220px",zIndex:1100}),c),c.lyr.innerHTML="<em class='"+a+"'></em><div class='body'><div class='p10'>"+b+"</div></div>")},onMOver:function(a,b){if(1==infolayer.gStop)return!1;fpHomePage.mouseoutFlag=!1;var c=this;c.lyr?fpHomePage.onMoverExpand(a,b,c):setTimeout(function(){c.buildLyr(),fpHomePage.onMoverExpand(a,b,c)},1e3)},onMOut:function(a,b){if(fpHomePage.mouseoutFlag=!0,1==infolayer.gStop)return!1;var c=this;c.cancelGetData(),b?jsui.hideL(c.lyr):_cur_lyr(null)},trackLayer:function(){this.tracked||(userActionParams.curAcn="FP_SUMMARY_LAYER-NEW",userActionParams.curAcnId=this.linkId,trackEventByGA("OnMouseOver",userActionParams.curAcn,userActionParams.curAcnId),this.tracked=!0)},trackFeatureProject:function(a,b,c){switch(a){case 0:ajax.getText({url:"/do/siteindex/doActionTrackingForFP?type=FP_LOCALITY_BUTTON&src="+c},"","");break;case 1:ajax.getText({url:"/do/siteindex/doActionTrackingForFP?type=FP_PRICE_SLIDER"},"","");break;case 2:ajax.getText({url:"/do/siteindex/doActionTrackingForFP?id="+b+"&type=CLKFEATPROJ"},"","");break;case 3:ajax.getText({url:"/do/siteindex/doActionTrackingForFP?id="+b+"&type=QUERY_HOMEPAGE"},"","")}return!1},slideText:function(){var a=$('.bigbtn.[msov="1"]').attr("value");if(slideCount++,a){var b=a.length;a=a.substring(slideCount)}$('.bigbtn.[msov="1"]').find("span").html(a),slideCount<b-10&&setTimeout("fpHomePage.slideText();",300)},getMinMax:function(){var a=Number.MAX_VALUE,b=0,c=fpHomePage.renderTag();return $(".fporg .fpcl").empty(),$(".clone").show(),$(""+c).clone().each(function(c){a>parseInt($(this).attr("min"))&&(a=parseInt($(this).attr("min"))),b<parseInt($(this).attr("max"))&&(b=parseInt($(this).attr("max")))}),$(".clone").hide(),a+","+b},updateFilter_city:function(){var a=fpHomePage.getPTypeTag(),b=fpHomePage.getConsStatusTag();$(".fpContainFilter .cityChicklist li").each(function(){var c=$(this).find("input"),d=0,e=$(".clone .prop[data-subcity = '"+c.attr("attr")+"']");b&&""!=b&&(e=fpHomePage.filterByConStatus(e,b)),a&&""!=a&&(e=e.filter(a)),d=e.length,0==d?(c.attr("vis","0"),$(this).hide(),c.prop("checked",!1)):($(this).find("label i").html(" ("+d+"+)"),$(this).show())})},updateFilters:function(a){"city"!=a&&fpHomePage.updateFilter_city(),"ptype"!=a&&fpHomePage.updateFilter_drpdwn("ptype"),"con_status"!=a&&fpHomePage.updateFilter_drpdwn("con_status")},updateFilter_drpdwn:function(a){var b,c,d;"ptype"==a?(b=fpHomePage.getConsStatusTag(),c="ptype_filter",d="data-proptype"):"con_status"==a&&(b=fpHomePage.getPTypeTag(),c="con_status_filter",d="data-comstatus");var e=fpHomePage.renderTag(),f=$(""+e);b&&""!=b&&(f="ptype"==a?fpHomePage.filterByConStatus(f,b):f.filter(b));var g=$(".fpContainFilter ."+c+" .prptagmv .filter_heading"),h=g.attr("defaultText");g.attr("val","0").html(h),$(".fpContainFilter ."+c+" .propbudlstmnu .propbudlst a").addClass("fp_filter_drpDwn_inactive");var i,j=[];$(".fpContainFilter ."+c+" .propbudlstmnu .propbudlst a").each(function(){var a=$(this);if("data-comstatus"==d)var b=fpHomePage.filterByConStatus(f,a.attr("val")).length;else var b=f.filter("["+d+'="'+a.attr("val")+'"]').length;b>0?(a.removeClass("fp_filter_drpDwn_inactive"),a.find("i").hasClass("chkbox-Yes")&&(j.push(a.attr("val")),i=a.text())):a.find("i").removeClass("chkbox-Yes").addClass("chkbox-No")});var k=j.length;k<=0?(g.attr("val","0"),g.html(h)):1===k?(g.html(i),g.attr("val",j[0])):(g.attr("val",j.join(",")),g.html("("+k+" selected)"))},reset_fp_filter:function(){$(".fpContainFilter .cityChicklist li .subtn").attr("vis","0"),$(".fpContainFilter .cityChicklist li input").prop("checked",!1),$(".fpContainFilter .cityChicklist li").show(),$(".fpContainFilter .con_status_filter .allresid").attr("val","0").html("Construction Status"),$(".fpContainFilter .con_status_filter #fpfilcnsts .propbudlst a").removeClass("fp_filter_drpDwn_inactive"),$(".fpContainFilter .con_status_filter #fpfilcnsts .propbudlst a i").removeClass("chkbox-Yes").addClass("chkbox-No"),$(".fpContainFilter .ptype_filter .allresid").attr("val","0").html("Property Type"),$(".fpContainFilter .ptype_filter #fpfilptype .propbudlst a").removeClass("fp_filter_drpDwn_inactive"),$(".fpContainFilter .ptype_filter #fpfilptype .propbudlst a i").removeClass("chkbox-Yes").addClass("chkbox-No"),$(".fpContainFilter").hasClass("fpcolps")||$(".fpContainFilter .scrollbarfp").tinyscrollbar_update("0")},render:function(){var a="",b="",c="";b=fpHomePage.getPTypeTag(),c=fpHomePage.getConsStatusTag(),a=b+c;var d=!0;""==a&&(d=!1,$('.fpContainFilter .subtn.[vis="-1"]').each(function(a){d=!0}));var e=fpHomePage.renderPGTag(),f=fpHomePage.renderTag();$("#gallery").empty();var g,h;d?(g=$(""+e),h=$(""+f),c&&""!=c&&(g=fpHomePage.filterByConStatus(g,c),h=fpHomePage.filterByConStatus(h,c)),b&&""!=b&&(h=h.filter(b))):(g=$(".clone_pg div"),h=$(".clone .ortable")),g.length?($("#fp_filter_reset").hide(),$("#gallery").append(g.clone())):$("#fp_filter_reset").show(),h.length?fpHomePage.bandPassFilter(h.clone(),d):fpHomePage.bandPassFilter("OOPS no results found. Undo search"),d&&fpHomePage.layout($(".fporg #fpcl li")),fpHomePage.setupFPHover(),propgallery.setupHover()},filterByConStatus:function(a,b){if(a&&b)for(var c=b.split(","),d=a.length;d--;){var e=$(a[d]).attr("data-comstatus"),f=!1;jQuery.each(c,function(a,b){-1!=e.indexOf(b)&&(f=!0)}),f||a.splice(d,1)}return a},renderTag:function(){var a="",b=!0;return $('.fpContainFilter .subtn.[vis="-1"]').each(function(c){b=!1,a+=".clone .prop.[data-subcity ='"+$(this).attr("attr")+"'],"}),b&&(a=".clone .prop,"),a.substr(0,a.length-1)},renderPGTag:function(){var a="",b=!0;return $('.fpContainFilter .subtn.[vis="-1"]').each(function(c){b=!1,a+=".clone_pg div.[data-subcity ='"+$(this).attr("attr")+"'],"}),b&&(a=".clone_pg div,"),a.substr(0,a.length-1)},getConsStatusTag:function(){var a=$(".con_status_filter .filter_heading").attr("val"),b="";if("0"!=a){b="";a.split(",").forEach(function(a){b+=a+","}),b=b.substr(0,b.length-1)}return b},getPTypeTag:function(){var a=$(".ptype_filter .filter_heading").attr("val"),b="";if("0"!=a){b="";a.split(",").forEach(function(a){b+="[data-proptype = '"+a+"'],"}),b=b.substr(0,b.length-1)}return b},bandPassFilter:function(a,b){b?$(".fporg #fpcl").empty().append(a):$(".fporg").empty().append(a)},layout:function(a){var b="",c="",d="",e=a.length,f=$(".fporg #fpclthree").length?3:2,g=Math.ceil(e/f),h=Math.ceil(e/f*2),i="",j="";a.each(function(a){var e,f="",k="",l=$(this),m=l.attr("com"),n=l.attr("othloc"),o=l.attr("sub"),p=l.attr("type"),q=l.attr("alp"),r=l.attr("mrp");"0"!=m?(f='<b class="f13">Commercial</b>',k=""):"0"!=n?(f="<span><b>"+o+" - </b></span><b class='f13'>All Properties</b>",k="<b>"+p+"</b> "):"0"!=q?(f="<span><b>"+o+" - </b></span><b class='f13'>All Properties</b>",k="<b>"+p+"</b> "):"0"!=r?(f="<span><b>"+o+" - </b></span> <b class='f13'>More Properties</b>",k="<b>"+p+"</b> "):(f="<span><b>"+o+" - </b></span><b class='f13'>"+p+"</b>",k=""),i!=f?(e="<div class='all10 f15'><div class='fpHding fnclr'>"+f+"</div></div>",a<g?b+=e:a<h?c+=e:d+=e,i=f):a==g?c+="<div class='all10 f15'><div class='fpHding fnclr'>"+f+"</div></div>":a==h&&(d+="<div class='all10 f15'><div class='fpHding fnclr'>"+f+"</div></div>"),j!=k&&k?(e="<div class='fpHding fnclr'>"+k+"</div>",a<g?b+=e:a<h?c+=e:d+=e,j=k):k&&(a==g?c+="<div class='fpHding fnclr'>"+k+"</div>":a==h&&(d+="<div class='fpHding fnclr'>"+k+"</div>")),e="<ul><li style='cursor:pointer; cursor:hand;' onclick=\""+$(this).attr("onclick")+"\" linkid='"+$(this).attr("linkid")+"'>"+this.innerHTML+"</li></ul>",a<g?b+=e:a<h?c+=e:d+=e}),$(".fporg #fpcl").html(b),$(".fporg #fpcltwo").html(c),$(".fporg #fpclthree").html(d)},scroll_city:function(a,b,c){env.ie||a.stopPropagation();var d=!!$(".fpContainFilter").hasClass("fixPosStick");$(jQuery.browser.webkit?"body":"html").animate({scrollTop:$("#fp_filter_label").offset().top},400,function(){d&&fpHomePage.applyFPFilter(b,c)}),d||fpHomePage.applyFPFilter(b,c)},applyFPFilter:function(a,b){"fp_filter_city"==a?fpHomePage.applyFPCityFilter(b):fpHomePage.applyFPDrpDwnFilter(b)},applyFPCityFilter:function(a){var b=a,c=b.attr("vis");b.attr("vis",~c),fpHomePage.updateFilters("city"),fpHomePage.render(),trackEventByGA("CLICK-SCB",currentPageName+"-"+b.attr("attr").replace(/ +/g,"-"),0),trackEventByGA("Click","FPCitySelect")},applyFPDrpDwnFilter:function(a){var b,c,d,e=a,f=(e.text(),e.attr("val"),e.siblings("a").andSelf()),g=e.closest(".propitmftr"),h=g.find("a.dropDown>div"),i=h.attr("defaultText");e.find("i.chkbox-Yes, i.chkbox-No").toggleClass("chkbox-Yes").toggleClass("chkbox-No"),b=f.find("i.chkbox-Yes").parent(),c=b.length,c<=0?(h.attr("val","0"),h.html(i)):1===c?(h.html(b.first().text()),h.attr("val",b.attr("val"))):(d=b.map(function(){return $(this).attr("val")}).get().join(),h.attr("val",d),h.html("("+c+" selected)")),e.parents(".ptype_filter").length?fpHomePage.updateFilters("ptype"):e.parents(".con_status_filter").length&&fpHomePage.updateFilters("con_status"),fpHomePage.render(),$(".fpContainFilter .scrollbarfp").tinyscrollbar_update()},initCityFPSection:function(){if(1==this.eventsInitialized)return!0;this.eventsInitialized=!0,$(".clone").empty(),$(".ortable").clone().appendTo($(".clone")),$(".clone").hide(),$(".bigbtn").mouseover(function(){slideCount=0,$(this).attr("msov","1"),fpHomePage.slideText()}),$(".bigbtn").mouseout(function(){slideCount=0,$(this).attr("msov","0"),$(this).find("span").html($(this).attr("value"))}),$(".fpContainFilter .subtn").click(function(a){var b=$(this);fpHomePage.scroll_city(a,"fp_filter_city",b)}),$("#fp_filter_reset_button").click(function(){fpHomePage.reset_fp_filter(),fpHomePage.render(),fpHomePage.updateFilter_city()}),$(".fpContainFilter").click(function(){$(".fpContainFilter").hasClass("fpcolps")&&($(".fpContainFilter").removeClass("fpcolps"),$(".scrollbarfp .scrollbar").removeClass("disable"),$(".scrollbarfp").tinyscrollbar_update("0"))}),$(".fplink").click(function(){trackEventByGA("CLICK","FP-NEW",$(this).parent().parent().attr("linkid"))}),$(".fpContainFilter a.dropDown").on("click",function(a){closeAllLayersOnHtmlClk(a),$(".fpContainFilter").find(".propboxmny").css("z-index","0");var b,c,d,e=$(this);if(e.hasClass("ddDisable"))return!0;d=e.parent(),$(".fpContainFilter").find(".propitmftr").css("z-index",0),c=e.next(),b=c.attr("id"),qsSrp.closeDrpDownsSpl(b),d.css("z-index","2"),toggleSpl($("#"+b))}),$(".fpContainFilter .propbudlst a").on("click",function(a){var b=$(this);fpHomePage.scroll_city(a,"fp_filter_drp_dwn",b)})},validateChecks:function(a){var b=doc.byId("panel_fp_"+a);if(void 0!=b){var c=b.childNodes,d="",e=0;for(var f in c)"checkbox"==c[f].type&&c[f].checked&&(e>0&&(d+=" and "),d+=c[f].name,e++);var g=doc.byId("fpQuery_"+a),h=doc.byId("query_"+a),i="";null!=g&&(i=e>0?"This project looks good. Please , "+d+".":"This project looks good.",g.innerHTML="<em class='uiIcon lf icnEmail mr5'></em>"+i,h.innerHTML=i)}},onMoverExpand:function(a,b,c){var d;(d=doc.byId("_"+c.linkId))?(c.tracked||(c.timer=js.setTimeout(c,c.trackLayer,1e3)),c.gotData||(c.lyr[CHN][1].innerHTML="",c.lyr[CHN][1].appendChild(d),c.gotData=!0)):c.gotData||c.getData(),b?jsui.showL(c.lyr):_cur_lyr(c.lyr),"fpclthree"==c.parentNode.parentElement.getAttribute("id")&&0!=$("#fpcl").text().trim().length&&(c.offset=null!=navigator.userAgent.match(/iPad/i)&&window.screen.width<=1024?[65,0]:[165,0]),jsui.showAt(c.lyr,c,c.pos,c.offset),jsui.greyThis(c.lyr,"#000",0),jsui.grow(c.lyr.bg,env.ie?5:3),c.lyr.bg.style.zIndex="0"}},homeCookieUtil={setSource:function(){var a=inputParams,b=a.getParams,c=a.cookieParams,d=void 0!==b.source?b.source:null,e=isset(d)?d:"IP";(void 0!==c.PROP_SOURCE||isset(d))&&setCookieExp("PROP_SOURCE",e,2592e3,"/")},setLogout:function(){1==getCookieVal("logout")&&setCookieExp("logout","0",0,"/")},setCity:function(){var a=qsSrp.selCityAtHeader,a=empty(a)?"":a;setCookieExp("src_city",a,0,"/"),setCookieExp("99_citypage",a,0,"/"),window.location.href.match(/home-real-estate.htm/g)&&setCookieExp("99_city","",0,"/")},setDefaultCityPage:function(){var a=$("#propstesrch").val();setCookieExp("99_city",a,1286e3,"/")}},on_load={onRcvData:function(a){doc.byId("fp_layers_data")[IH]=a}},propgallery={build:function(){var a;if(a=PG_BMS_Array){for(var b=doc.byId("gallery"),c=new Array,d=0;d<a.length;d++){var e=a[d].pgid,f=e.split("-");f[0]&&""!=f[0]&&c.push(f[0])}$.ajax({url:"/do/pg_summary_layer/getPGTuples/",data:{pgids:c},type:"POST",dataType:"json",success:function(c){for(var d=0;d<a.length;d++){var e=a[d],f=e.pgid.split("-"),g=f[0];if(e){var h=js.dom.create("DIV",{id:e.pgid},{});h.setAttribute("data-proptype",c&&c[g]?c[g].property_type:""),h.setAttribute("data-comstatus",c&&c[g]?c[g].construction_status:""),h.setAttribute("data-projectid",c&&c[g]?c[g].project_id:""),$("#homepage_btf").hasClass("citymain")?h.setAttribute("data-subcity",c&&c[g]?c[g].city:""):h.setAttribute("data-subcity",c&&c[g]?c[g].super_city:""),env.ie||(h.style.position="relative");var i=js.dom.append(js.dom.create("A",{className:"pgitem",href:e.landingurl,target:"_blank"}),h);js.dom.append(js.dom.create("IMG",{src:e.imageurl,vspace:"7"}),i);b.appendChild(h)}}$(".lcol").append('<div class = "clone_pg"></div>'),$(".clone_pg").empty().hide(),$("#gallery div").clone().appendTo($(".clone_pg")),propgallery.setupHover(),$("#fp_filter_reset").hide()}})}},qfrm:!0,itag:"DIV",idAttr:"id",pos:["rt","lt"],offset:[0,0],arr:"<em class='lArow'></em>",setupHover:function(){infolayer.setup("gallery",this)},buildLyr:function(){var a=this;a.lyr||(a.lyr=js.dom.append(js.dom.create("DIV",{className:"fplayer",lyrof:a},{position:"absolute",display:"none",backgroundColor:"rgb(255,255,255)",width:"220px",zIndex:1100}),a),a.lyr.innerHTML=a.arr+"<div class='body'><div class='p10'><img class='allresid' src='"+IMG_BASE_URL+"/images/99loaderDesktop.gif' ></img>&nbsp;&nbsp;<b>Loading...</b></div></div>")},onMOver:function(a){var b=this;infolayer.onMOver.call(b)},getData:function(){this.timer||(this.timer=js.setTimeout(this,propgallery._getData,500))},_getData:function(){var a=this;a.ajax||(ajax.getText({url:"/do/pg_summary_layer/getSummaryData/"+a.linkId,method:"GET",ctx:a},propgallery.onRcvData,propgallery.onRcvDataErr),a.ajax=!0,trackEventByGA("OnMouseOver","PG_SUMMARY_LAYER",a.linkId))},onRcvData:function(a){var b=this;b.gotData=!0,b.ajax=!1,b.lyr[CHN][1].innerHTML=a,layers.sizeShadow(b.lyr)},onRcvDataErr:function(a){var b=this;b.ajax=!1;var c=userActionParams.lstAcn,d=userActionParams.lstAcnId;b.lyr[CHN][1].innerHTML="<br/><br/><a style='bLink' target='_blank' href='/bmsjs/bms_hits.php?banner="+this.linkId+"&from_src=PGLINK&lstAcn="+c+"&lstAcnId="+d+"&src=PG_LINK' > Click Here for more details about this project </a><br/><br/><br/>"},trackLayer:function(){this.tracked||(userActionParams.curAcn="PG_SUMMARY_LAYER",userActionParams.curAcnId=this.linkId,trackEventByGA("OnMouseOver",userActionParams.curAcn,userActionParams.curAcnId),this.tracked=!0)},onMoverExpand:function(a){if(jsui.showAt(a.lyr,a[FC],["rt","lt"],[15,0]),env.ie){if(a.lyr){var b=parseInt(a.lyr.style.top)-110;a.lyr.style.top=b+"px"}}else a.lyr&&(a.lyr.style.top="9px")}},aif={idAttr:"linkid",setupFPHover:function(){infolayer.setup("df",aif)},getData:function(){this.timer||(this.timer=js.setTimeout(this,aif._getData,500))},_getData:function(){ajax.getText({url:"/do/if_summary_layer/getSummaryData/"+this.linkId,method:"GET",ctx:this,params:userActionParams},infolayer.onRcvData,aif.onRcvDataErr),trackEventByGA("OnMouseOver","DIF_LAYER",this.linkId)},onRcvDataErr:function(a){var b=this,c=userActionParams.lstAcn,d=userActionParams.lstAcnId;b.lyr[CHN][1].innerHTML="<a class='bLink' target='_blank' href='/property/redirect_links.php?"+this.linkId+"&from_src="+this.linkId+"&lstAcn="+c+"&lstAcnId="+d+"&src=DIF_LINK' > Click Here for more details about this dealer </a>"},trackLayer:function(){this.tracked||(userActionParams.curAcn="DIF_SUMMARY_LAYER",userActionParams.curAcnId=this.linkId,ajax.getText({url:"/do/tracking/trackUserAction",ctx:this,params:userActionParams}),this.tracked=!0)}},appDownload={gaurl:$(".downloadWrapper").data("gaurl")||"",attachEvents:function(){$(".app-download-link").mouseover(function(a){trackEventByGA("MAPP_HEADER_LAYER","Layer_Open",appDownload.gaurl),timeOutVar&&clearTimeout(timeOutVar),$("#app-download-wrapper #txtmobile").val(""),$("#app-download-wrapper #formResponse").html("").removeAttr("style"),$("#app-download-wrapper #successSection, #app-download-wrapper .disclaimer").show(),$("#app-download-wrapper #thanksMsg").hide()}),$("#app-download-wrapper .submitForm").click(function(a){trackEventByGA("MAPP_HEADER_LAYER","Submit_num",appDownload.gaurl),appDownload.fieldValidate(a)}),$("#app-download-wrapper #txtmobile").keypress(function(a){a=a||window.event;var b=a.which?a.which:a.keyCode;return!(b>31&&(b<48||b>57))&&($(a.target).val().length>7&&$("#app-download-wrapper #formResponse").html(""),13==a.which&&(a.preventDefault(),appDownload.fieldValidate(a)),!0)})},fieldValidate:function(a){var b=$("#app-download-wrapper #txtmobile").val();if(""==b||b.length<=7)return $("#app-download-wrapper #formResponse").html("Please enter a valid phone number"),!1;$("#app-download-wrapper #formResponse").html(""),appDownload.ajaxSubmit(b,a)},ajaxSubmit:function(a,b){return val=a,$.ajax({type:"POST",cache:!1,url:"/do/99mobile/mobile_apps/sms",data:{phnum:a},async:!1,success:function(a){"true"==a?($("#app-download-wrapper #successSection, #app-download-wrapper .disclaimer").hide(),$("#app-download-wrapper #thanksMsg").show(),trackEventByGA("MAPP_HEADER_LAYER","SMS_successful",appDownload.gaurl),timeOutVar=setTimeout(function(){$("#app-download-wrapper #thanksMsg").hide(),$("#app-download-wrapper #successSection, #app-download-wrapper .disclaimer").show()},1e4)):($("#app-download-wrapper #formResponse").html("Message sending failed. Please try again later"),timeOutVar=setTimeout(function(){$("#app-download-wrapper #formResponse").html("")},1e4))}}),!1}},BGInventory={handleImages:function(){var a=$("#BG_Banner"),b="",c=null!=navigator.userAgent.match(/iPad/i),d=getStorageValue("frstLoad"),e=$("#bg_fade");d=""===d?{}:JSON.parse(d),a.length>0&&(a.attr("data-bid"),b=window.screen.width>1366?a.attr("data-big-url"):a.attr("data-small-url"),a.css({"background-image":"url("+b+")","background-position":"50% 0%","background-repeat":"no-repeat","background-size":"cover"}),window.screen.width<=1024&&(a.css({height:"510px"}),e.css({height:"510px"})),c&&window.matchMedia("(orientation: landscape)").matches&&window.screen.width<=1024&&(a.css({height:"400px"}),e.css({height:"400px"})),$(window).height()<=560&&(a.css({height:"590px"}),e.css({height:"590px"})))},loadCarousel:function(){var a=$(window).width(),b=350,c=slidesToShow=Math.floor(a/b);$("body").displayBanners({bannerParams:{pageId:qsSrp.selCityAtHeader,resCom:qsSrp.getRC(),bannerIdentifier:"Carousel",pageIdentifier:"Homepage",minBannersToDisplay:4,fallBackFunction:function(){$(".prop-container-slide").hide(),$(".scrollNextWrap").remove()}},displayParams:{autoplay:!0,autoplaySpeed:8e3,speed:1e3,slidesToShow:slidesToShow,initialSlide:0,slidesToScroll:c,slideWidth:b,dots:!1,cssEase:"cubic-bezier(.1,.1,.25,.9)"}})},handleProjectNameLoc:function(){var a=$(".projNameInfo > div"),b=($(".projLocInfo").width(),0),c=null,d=null,e=0,f="",g=0,h=0,i=0,j=null;for(b=0;b<2;b++){if(c=$(a[b]),d=c.text(),e=d.length/25,f="",e>1)if(j=d.split(" "),i=j.length,j[0].length>25&&j[0].length>0)f="",h=0,i=1;else{for(g=0;g<i;g++){var k=f+" "+j[g];if(!(k.length<=25))break;f=k}h=f.length,i>1&&(f+="<br/>")}if(e>2||1==i&&""!=d){for(g=h;g<h+22;g++)f+=d[g];f+="...",c.html(f)}else{for(g=h;g<d.length;g++)f+=d[g];c.html(f)}}},updateContainer:function(a){var b,c=a,d=$(window),e=d.height(),f=d.width(),g=$("#BG_Banner"),h=$("#bg_fade"),i=null!=navigator.userAgent.match(/iPad/i),j=e>f?e/2-c:e-c,k=$("#search-bar-hp"),l=j/2-(k.height()-30)/2,m=l<=100?"90px":"180px";$("#search-bar-Bg.searchHeader")||(window.screen.width>=1920?k.css({marginTop:"290px"}):k.css("marginTop",m)),b=i&&window.matchMedia("(orientation: portrait)").matches&&window.screen.width<=1024?"510px":i&&window.matchMedia("(orientation: landscape)").matches&&window.screen.width<=1024?"400px":e<=560?"590px":window.screen.width<=1366?"486px":"685px",g.css({height:b}),h.css({height:b})},initializeScrollNext:function(){$("#Shoshkele-Pane").after('<div class="scrollNextWrap" style="display:none;"><i id="scrollNext" class="propicn nextFold"></i></div>'),$(".scrollNextWrap").click(function(){$("html, body").animate({scrollTop:$(".homemain, .citymain").offset().top-10},500),$(this).fadeOut(300)}),this.checkScrollNext()},checkScrollNext:function(){var a=$(".scrollNextWrap"),b=$(window).height(),c=$("#BG_Banner").height()+$(".prop-container-slide").height()+100;$("#ResRentTab").hasClass("sel")||(0!==$(window).scrollTop()||isPortraitDisplay()?a.fadeOut(300):b>c&&window.screen.width>1366?a.fadeOut(300):a.fadeIn(300)),this.updateContainer(40)},stripSlashes:function(a){return a=a.replace(/\\'/g,"'"),a=a.replace(/\\"/g,'"')}},ldb={loadFromZedo:function(){return 0!=$("#BGZedoLeaderBoard").length},loadBanner:function(){var a;this.loadFromZedo()&&(a=pkb.getPageAttribute(),zedo.loadZedoBanner("Shoshkele-Pane",a),bannerCssEdit("Shoshkele-Pane"))}},ellipses={attachEventHandlers:function(){layerCloseOnClickBody.initializeEvents("#sBluBar",function(){$("#sBluBar").attr("style","").removeClass("showBlu"),genericAnimateSupport("#sBluDrpWrap",{right:"0px",opacity:0,"z-index":-1},"400ms"),$("#sBluDrpWrap").css("visibility","hidden")}),$("#sBluBar,#quickLnk, #sBluDrpWrap, .sBluDrp, .ellip-tabs,#hot-area-projects").hover(function(a){var b=$("#sBluBar"),c=$("#quickLnk");if(b.hasClass("showBlu"))b.attr("style","").removeClass("showBlu"),void 0!==c&&c.attr("style","").removeClass("showBl"),genericAnimateSupport("#sBluDrpWrap",{right:"0px",opacity:0,"z-index":-1},"400ms"),$("#sBluDrpWrap").css("visibility","hidden");else{genericAnimateSupport("#sBluDrpWrap",{right:"67px",opacity:1,"z-index":1},"400ms"),$("#sBluDrpWrap").css("visibility","visible");var d,e=null,f=null,g=0,h="hotPro showBlu",j=".jQ0";b.hasClass("hotPro")?h="showBlu":b.hasClass("hotArea")&&(h="hotArea showBlu",j=".jQ1"),b.addClass(h),void 0!==c&&c.attr("style","").addClass("showBl"),d=$(j),e=$("[id^=proj]"),f=["r1","r2","r3"],$.each(e,function(a,b){var c=$(b),d=c.attr("id"),e=null,h=null,j=null,k=null,l=null,m=null,n=null,a=-1,o=-1,p=-1;if(g>=7)$("#div"+d).remove();else{for(i=0;i<3;i++){if(e="",h=f[i],j=f[i+1],k=$(this).find("div[class^="+h+"]"),l=$(this).find("div[class^="+j+"]"),++g>7){k.html("");break}if(null!=k){for(m=k.html(),n=k.width();n>619;)a=m.toLowerCase().lastIndexOf("<a"),e=m.substr(a)+e,m=m.substr(0,a),k.html(m),n=k.width();if(null!=m&&(o=m.toLowerCase().lastIndexOf("<span"),p=m.toLowerCase().lastIndexOf("<a"),o>p&&(m=m.substr(0,o),k.html(m))),!(null!=l&&""==l.html()&&l.length>0&&""!=e))break;l.html(e)}}for(var q=i+1;q<3;q++)$("#"+d).find("."+f[q]).remove()}}),b.css("height",$("#sBluDrpWrap").outerHeight()+d.outerHeight())}}),$("#porpprojnew").on("click",function(a){$("#sBluBar").removeClass("hotArea").addClass("hotPro showBlu").css("height",$("#sBluDrpWrap").outerHeight()+$(".jQ0").outerHeight()),a.stopPropagation()}),$("#hotProperties").on("click",function(a){$("#sBluBar").removeClass("hotPro").addClass("hotArea showBlu").css("height",$("#sBluDrpWrap").outerHeight()+$(".jQ1").outerHeight()),a.stopPropagation()}),$(".sDrpL div div").click(function(a){var b=$(this).attr("trackval");trackEventByGA("HP_pref",!1,b,"Blue Bar_HP")}),$(".trackhp , .trackhpUl li").click(function(a){var b=$(this),c=b.hasClass("trackhp"),d=c?b:b.closest("div").siblings("a.trackhp");trackval=d.attr("trackval")+(c?"":"_"+b.children("a").text()),trackact=d.attr("trackact"),trackEventByGA(trackval,!1,trackact,"Blue Bar_HP")}),$(".in0City a , .tracknp").click(function(a){trackval=$(this).attr("trackval"),trackact=$(this).attr("trackact"),trackEventByGA(trackval,!1,trackact,"Blue Bar_NP")}),$(".sDrpR.in2 a,.sDrpR.in3 a").click(function(){var a=$(this),b=a.parents(".sDrpR"),c=a.text(),d=b.attr("trackval");trackEventByGA(d,!1,c,"Blue Bar_HP")}),$("#search-bar-hp #submit_query").click(function(){trackEventByGA("TRIGGER",!1,"Search","Search_Box")})}};zedoLib.updateHomeParams=function(){this.homeParamsToBeUpdated()&&this.createHomeParams()&&zedo.updateZedoParameters(zedoLib.zedoParams)},zedoLib.homeParamsToBeUpdated=function(){var a=!1,b=$("#refresh_zedo_cookie").val(),c=getCookieValue("99_city");return-1==b?a=!0:b!=c&&(a=!0),a},zedoLib.createHomeParams=function(){if("undefined"==typeof currentPageName||"Home"==currentPageName)return!1;var a="NRI"==currentPageName?"NRI":"CITY",b=qsSrp.getRC(),c=qsSrp.getPref(),c="C"==b&&"R"==c?"L":c,d="NRI"==currentPageName?"YES":null;return zedoLib.zedoParams={city:qsSrp.selCityAtHeader,locality:"",budgetMin:"",budgetMax:"",activity:a,rescom:zedoLib.resComMap[b],preference:zedoLib.prefMap[c],nri:d},!0},qsSrp.homeSrchBarLoad=function(){qsSrp.initScrollPanes(),qsSrp.frm_id="res_form",kywrd=$("#prop-srchky").val(),qsSrp.selCityAtHeader=$("#prop-slcity-top").val(),qsSrp.modifySrchParamsOnLoad(),submitButton={IS_MAPSEARCH_DEFAULT_SEARCH:0,enterKeyPressedFlag:!1},Header.srchBarLoad(),Homepage.setCookieOnLoad()},Homepage.setCookieOnLoad=function(){var a={R:"RES",C:"COM"};setCookieExp("RES_COM",a[qsSrp.getRC()],2592e3,"/"),homeCookieUtil.setSource(),homeCookieUtil.setLogout(),homeCookieUtil.setCity(),homeCookieUtil.setDefaultCityPage()},Homepage.track=function(){var a=inputParams,b=a.getParams,c=void 0!==b.src?b.src:null,c=empty(c)?document.referrer:"",d={pageReferrer:document.referrer,src:c,curAcn:$('#res_form > input[name="lstAcn"]').val(),curAcnId:$('#res_form > input[name="lstAcnId"]').val(),selectedCityAtCityBarHeader:qsSrp.selCityAtHeader,propctifmcke:$("#propctifmcke").val(),res_com:qsSrp.getRC()};$.post("/do/siteindex/track",d,function(a){})},$("#view_excl_prop_iframe, #view_belowexcl_prop_iframe").load(function(){resizeHeight($(this).attr("id"))}),srchFormData.setDataOnLoad=function(){var a={PROPERTY:remSrch.getData("PROPERTY"),PROJECT:remSrch.getData("PROJECT"),DEALER:remSrch.getData("DEALER")};document.URL.indexOf("searchHeader99?tab=Buy")>=0?(a.PROPERTY.preference=void 0!=a.PROPERTY.preference?"S":"",a.PROJECT.preference=void 0!=a.PROJECT.preference?"S":""):document.URL.indexOf("searchHeader99?tab=Rent")>=0&&(a.PROPERTY.preference=void 0!=a.PROPERTY.preference?"R":"",a.PROJECT.preference=void 0!=a.PROJECT.preference?"R":"");for(var b in a)a[b]&&(void 0===a[b].city||empty(a[b].city))&&(a[b].city=qsSrp.selCityAtHeader);srchFormData.setData(a)},qsSrp.modifySrchParamsOnLoad=function(){var a,b,c,d=inputParams.params;clikTab=$("#prop-clktb").val(),a=void 0!==d.lsp?d.lsp:"P",b=remSrch.getRevTypeKey("NP"==clikTab?"X":a),c=remSrch.getData(b),void 0===c.selected_tab||empty(c.selected_tab)||c.selected_tab,qsSrp.setST(b),srchFormData.setDataOnLoad()},$(document).ready(function(){Homepage.track(),$(".fpContainFilter").length&&$(window).on("scroll touchmove",function(){var a=$(".fpContainFilter").offset().top;$(this).scrollTop()>a+30&&$(this).scrollTop()<Math.max($("#lcol_end").offset().top-100,$("#mcol_end").offset().top-100)?($(".fpContainFilter").addClass("fpcolps").addClass("fixPosStick"),$(".scrollbarfp").tinyscrollbar_update("0"),$(".scrollbarfp  .scrollbar").addClass("disable")):($(".fpContainFilter").removeClass("fpcolps").removeClass("fixPosStick"),$(".scrollbarfp  .scrollbar").removeClass("disable"),$(".scrollbarfp").tinyscrollbar_update("0"))}),$(".sDrpL>div").on("click",function(a){$(".sDrpR").css("display","none"),$(".sDrpR.jQIn"+$(this).index()).css("display","inline-block");$(".sDrpR.jQIn"+$(this).index()).width();$(".sDrpL>div").removeClass("actDrp"),$(this).addClass("actDrp"),a.preventDefault(),a.stopPropagation()}),$("#fpHomePage").on("click","ul.fpUi li a",function(a){var b=$(this),c=b.parent("li");trackEventByGA("CLICK","FP-NEW",c.attr("linkid"))}),$("#dif_div").on("click","ul.fpUi li a",function(a){try{var b=$(this),c=b.parent("li"),d=$("#dif_div");appendDlrSrpTrackingParameters(b.get(0),"?"+c.attr("linkid")+"&from_src=IFLINK&lstAcn="+d.attr("lstacn")+"&lstAcnId="+d.attr("lstacnid")+"&src=DIF_LINK",a),jsevt.stopBubble(a)}catch(a){}}),$("#city_fp_box").length&&fpHomePage.initCityFPSection(),$(".fTabs").on("click","span",function(){var a=$(this),b=a.attr("id"),c=b.split("_");ffChangeBuyRentTab(c[1],c[2])}),$("#askQuestionForm").submit(function(){try{var a=document.getElementById("questionText");return a.value.trim()!=a.getAttribute("default")&&""!=a.value.trim()||(alert("Question is required."),!1)}catch(a){return!1}}),$("#questionText").click(function(){var a=document.getElementById("questionText");a.value.trim()==a.getAttribute("default")&&(a.value="",a.style.color="#000")}).blur(function(){var a=document.getElementById("questionText");""==a.value.trim()&&(a.value=a.getAttribute("default"),a.style.color="#ADA6AD")}),BGInventory.updateContainer(40),$(".projNameInfo").length>0&&BGInventory.handleProjectNameLoc(),ellipses.attachEventHandlers(),$(".HamBookmarkLink").on(clickEventStr,function(a){var b=$(this).attr("Bookmarkid"),c=(qsSrp.getRC(),qsSrp.homePageTabClick.bind($('#search-bar-hp .search-tabs>a[id="'+b+'"]')));return $("#HM-Menu").css({left:"-220px"}),c(),scrollToElement("#Header-Wrap"),jsevt.stopBubble(a),!1}),appDownload.attachEvents()}),$(window).load(function(){$("#search-bar-hp .search-tabs>a").on("click",function(){var a=$(this),b=a.attr("data-track-args");void 0!==b&&trackEventByGA("TAB",!1,b,"Search_Box")}),BGInventory.handleImages(),zedoLib.updateHomeParams(),ldb.loadBanner();var a=pkb.getPageAttribute();$("#search-bar-Bg.searchHeader").length||pkb.initialize(a),isPortraitDisplay()||BGInventory.initializeScrollNext(),$(this).resize(function(){BGInventory.updateContainer(40)}).scroll(function(){BGInventory.checkScrollNext()}),window.setTimeout(includeBMSJS,100),window.setTimeout(flushBmsIframes,100),window.setTimeout(includeBMSExclIframes,100),window.setTimeout(loadHomePageFooterBnr,100),$("#fp_layers_data").length&&(fpHomePage.setupFPHover(),ajax.getText({url:"/do/fp_summary_layer_all",method:"GET",ctx:this,params:userActionParams},on_load.onRcvData)),$("#dif_div").length&&aif.setupFPHover(),$("#search-bar-Bg.searchHeader").length||BGInventory.loadCarousel()}),$(window).on("orientationchange",function(){var a=$(".scrollNextWrap");0!=window.orientation&&180!=window.orientation&&(a.length>0?a.fadeIn(300):BGInventory.initializeScrollNext(),pkb._displayBannerOnScroll($(window)))}),$(window).resize(function(){mySlider("card-slider-1",4,4)});